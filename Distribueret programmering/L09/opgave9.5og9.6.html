<!-- Opgave 9.5 Lav en webside med to tekstfelter til indtastning af det samme password. 
    Det skal valideres, at de to passwords er ens og er på mindst 8 tegn. -->
<!-- Opgave 9.6 Udbyg løsningen til forrige opgave, så det nu er et krav, at password 
    indeholder mindst et cifre, et danske bogstav og et af specialtegnene #%&*. -->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Opgave 9.5 og 9.6</title>
    <style>
        form {
            display: inline-grid;
            grid-template-columns: auto;
            grid-row-gap: 5px;
        }

        input[type=text] {
            background-color: rgba(255, 0, 0, 0.349);
        }
    </style>
</head>

<body>
    <form>
        <label for="password">Password:</label>
        <input type="text" id="password" name="password" required>
        <!-- <input type="text" id="password" name="password" pattern="^.{8,}" minlength="8" title="Must be minumum 8 characters" required> -->
        <label for="passwordRepeat">Repeat:</label>
        <input type="text" id="passwordRepeat" name="passwordRepeat" required>
        <!-- <input type="submit" value="Submit"> -->
    </form>
</body>

</html>

<script>
    // let regex = /^.{8,}$/;
    let regex = /^(?=.*\d)(?=.*[a-zA-ZæøåÆØÅ])(?=.*[#%&*]).{8,}$/;
    let passwordField = document.getElementById('password');
    passwordField.oninput = () => {
        if (regex.test(event.target.value))
            event.target.style.backgroundColor = 'rgba(0, 255, 0, 0.349)';
        else
            event.target.style.backgroundColor = 'rgba(255, 0, 0, 0.349)';
    }
    document.getElementById('passwordRepeat').oninput = () => {
        if (event.target.value === passwordField.value)
            event.target.style.backgroundColor = 'rgba(0, 255, 0, 0.349)';
        else
            event.target.style.backgroundColor = 'rgba(255, 0, 0, 0.349)';
    }
</script>